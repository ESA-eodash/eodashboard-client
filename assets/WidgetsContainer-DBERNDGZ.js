import{u as d}from"./VMain-DNnUQI0D.js";import{r as s,ab as g,q as y,t as n,v as u,O as x,y as v,F as E,P as f,Q as H,J as k,M as C,N as _,L as w,z as A}from"./index-JKpM8y8k.js";import"./ssrBoot-9MUVjbcu.js";import"./color-CsGsH8C1.js";class D extends HTMLDetailsElement{constructor(){super()}connectedCallback(){this.el=this,this.summary=this.querySelector("summary"),this.content=this.lastElementChild,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",e=>this.onClick(e))}onClick(e){e?.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.doOpen():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;const e=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:300,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}doOpen(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand()),this.parentElement.querySelectorAll("details[open][exclusive]").forEach(t=>{t!==this&&t.onClick()})}expand(){this.isExpanding=!0;const e=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[e,t]},{duration:300,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(e){this.el.open=e,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}customElements.define("animated-details",D,{extends:"details"});const b={__name:"WidgetsContainer",props:{widgets:{type:Array,required:!0}},setup(a){const t=d(a.widgets),l=s([]),o=s([]),r=s(""),h=s(0);return g(()=>{h.value=o.value.reduce((c,i)=>c+=i.clientHeight,0);const{mainRect:m}=y();r.value=(l.value[0].parentElement?.scrollHeight??0)-h.value-m.value.top+"px"}),(m,c)=>(n(!0),u(E,null,x(v(t),(i,p)=>(n(),u("details",{is:"animated-details",ref_for:!0,ref_key:"detailsEls",ref:l,key:p,class:"overflow-auto",exclusive:""},[f("summary",{ref_for:!0,ref_key:"summaryEls",ref:o},H(i.value.title),513),f("span",{style:A({height:r.value}),class:"d-flex flex-column"},[(n(),k(w(i.value.component),C(_(i.value.props)),null,16))],4)]))),128))}};export{b as default};
